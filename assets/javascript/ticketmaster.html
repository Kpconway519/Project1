<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>ticketmaster</title>
</head>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>


<script type="text/javascript">

 $( document ).ready(function things() {
  
  //var settings = {
  //"async": true,
 // "crossDomain": true,
  //"url": "https://runsignup.com/Rest/races/?format=json&events=F&race_headings=F&race_links=F&include_waiver=F&include_event_days=F&page=1&results_per_page=10&sort=name+ASC&start_date=today&only_partner_races=F&search_start_date_only=F&only_races_with_results=F&city=charlotte&distance_units=K&api_key=hDCWN58XIqudXtKJwrIq95MiHQrSFGyf&api_secret=vqK25wH1NSvuF0XG1k2yg7OircAMartZ",
  //"method": "POST",
  //"headers": {
    //"cache-control": "no-cache",
    //"Postman-Token": "c1dd0c0f-63f7-461f-900e-697955b9992a"
  //}
//}

//$.ajax(settings).done(function (response) {
  //console.log(response);


    
  
  //var raceName = response.races[i].race.name
  //var raceDate = response.races[i].race.events[0].start_time
  //var raceLoc = response.races[i].race.address
  
    //var realRaces = [raceName, raceDate, raceLoc]
    //var addRaces = [];
    //then(function play(response) {
    //addRaces.push({realRaces});
    //console.log(realRaces)})
  

  //console.log(response.races[q].race.name, response.races[q].race.next_date, response.races[q].race.address)
  
  fetch("https://maps.googleapis.com/maps/api/geocode/json?address=1415+hurley+school+road&key=AIzaSyA_mEQx_sIh4T3NQodWY8oPt8PLUkqHhbo")
  .then(function(response) {
    return response.json();
  })
  .then(function(myJson) {
    console.log(myJson)
    console.log(myJson.results[0].address_components[7].long_name);
  }),
  //
  

$.ajax({
    type:"GET",
    url:"https://app.ticketmaster.com/discovery/v2/events.json?classificationName=sport,music,arts&dmaId=245&latlong=&apikey=EjCnoRIJWhXvqFM6uxTUzXnplhtRgBCU&size=5",
    async:true,
    dataType: "json",
    success: function(json) {
      for(var i = 0; i < json._embedded.events.length; i++) {
      var obj = json._embedded.events[i];
      var eventName = obj.name
      var eventDate = obj.dates.start.localDate + obj.dates.start.localTime
      var eventLoc = [obj._embedded.venues[0].location.latitude, obj._embedded.venues[0].location.longitude]
      var realEvents = [eventName, eventDate, eventLoc]
      
            console.log(realEvents);
            console.log(eventLoc[0], eventLoc[1])
                // Parse the response.
                // Do other things.
             }},
    error: function(xhr, status, err) {
                // This time, we do not end up here!
             }
             
  });})
       
  
  function initMap() {
        var myLatLng = {lat: eventLoc[0], lng: eventLoc[1]};

        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 4,
          center: myLatLng
        });

        var marker = new google.maps.Marker({
          position: myLatLng,
          map: map,
          title: eventName })}
  
   


</script>
 
</body>
</html>